<html>
	<head>
		<link rel="stylesheet" type="text/css" href="client.bundle.css">
		<script type="text/javascript" src="fiddleclient.bundle.js"></script>

		
		<script type="text/javascript">

			function getQueryStringParams() {
				var params = {};
				(function() {

					var match,
						pl = /\+/g, // Regex for replacing addition symbol with a space
						search = /([^&=]+)=?([^&]*)/g,
						decode = function(s) {
							return decodeURIComponent(s.replace(pl, " "));
						},
						query = window.location.search.substring(1).replace(/amp;/g, "");

					while (match = search.exec(query))
						params[decode(match[1])] = decode(match[2]);
				})();

				return params;
			};
			function run() {

				var params = getQueryStringParams();

				var editor = document.getElementById("editor");
				var target = document.getElementById("target");

				var client = new FiddleClient();
				client.init(params['url'], editor, target);
			}

		</script>
	</head>
	<body onload="run();">
		<div id="editor"></div>
		<div id="target"></div>
	</body>
</html>